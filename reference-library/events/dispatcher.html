<!doctype html>
<html>
	<head>
		<title>Dispatcher -  Reference Library -  Watson Documentation</title>
		<link rel="stylesheet" type="text/css" href="/watson/assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="/watson/assets/css/pygments.css" />
		<meta name="viewport" content="initial-scale=1, user-scalable=no, width=device-width" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	</head>
	<body>
		<a href="https://github.com/simoncoulton/watson"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
<header>
	<nav class="wrapper primary">
		<a href="/watson/">Watson<span>It's elementary my dear Watson</span></a>
		<a href="/watson/reference-library">Reference Library</a>
		<a href="/watson/key-concepts">Key Concepts</a>
		<a href="/watson/getting-started">Getting Started</a>
	</nav>
	<div class="pagetitle">
		<div class="wrapper">Documentation: Reference Library</div>
	</div>
</header>
		<div>
			<div class="wrapper main clearfix">
				<nav class="secondary">
	<ul>
		<li>
			Getting Started
			<ul>
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/getting-started/installation.html">
			          Installation
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/getting-started/configuration.html">
			          Configuration
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/getting-started/your-first-application.html">
			          Your First Application
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			</ul>
		</li>
		<li>
			Key Concepts
			<ul>
				
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/key-concepts/events.html">
			          Events
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/key-concepts/dependencyinjection.html">
			          Dependency Injection
			        </a>
			      </li>
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/key-concepts/mvc.html">
			          Mvc
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			</ul>
		</li>
		<li>
			Common Usage
			<ul>
				
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/controllers.html">
			          Controllers
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/views.html">
			          Views
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/routing.html">
			          Routing
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/requests.html">
			          Requests
			        </a>
			      </li>
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/forms.html">
			          Forms
			        </a>
			      </li>
			    
			  
			</ul>
		</li>
		<li>
			Advanced Topics
			<ul>
				
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/advanced-topics/deployment.html">
			          Deployment
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			</ul>
		</li>
		<li>
			Reference Library
			<ul>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/cache">watson.cache</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/common">watson.common</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/di">watson.di</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				<li class="active">
					<a href="/watson/reference-library/events">watson.events</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/filters">watson.filters</a>
				</li>
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/form">watson.form</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/html">watson.html</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/http">watson.http</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/mvc">watson.mvc</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/util">watson.util</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/validators">watson.validators</a>
				</li>
				
				
				
				
			</ul>
		</li>
	</ul>
</nav>
			    <div class="content">
			    	<h2 class="section-title">watson.events.dispatcher</h2>
					<section class="standout">
	<dl>
		<dt>Package</dt>
		<dd>watson.events</dd>
	</dl>
</section>
<section class="code">
<h3 id="toc_0">EventDispatcher</h3>

<blockquote>
<p>Register and trigger events that will be executed by callables.</p>
</blockquote>

<p>The EventDispatcher allows user defined events to be specified. Any listener that is triggered will have the event that was triggered passed to it as the first argument. Attributes can be added to the event params (see watson.events.types.Event) which can then be accessed by the listener.</p>

<h4 id="toc_1">Usage</h4>

<div class="highlight"><pre><code class="python"><span class="n">dispatcher</span> <span class="o">=</span> <span class="n">EventDispatcher</span><span class="p">()</span>
<span class="n">dispatcher</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;MyEvent&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">dispatcher</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="s">&#39;SampleEvent&#39;</span><span class="p">))</span>
<span class="n">result</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>  <span class="c"># &#39;SampleEvent&#39;</span>
</code></pre></div>

<h4 id="toc_2">Properties</h4>

<h5 id="toc_3">events</h5>

<p>Returns the events registered on the event dispatcher.</p>

<h4 id="toc_4">Methods</h4>

<h5 id="toc_5">clear()</h5>

<p>Clears all registered events from the event dispatcher.</p>

<h5 id="toc_6">add(event, callback, priority=1, only_once=False)</h5>

<p>Add an event listener to the dispatcher.</p>

<p>Adds an event listener to the relevant event listener collection. If a listener is set to once_only, it will be removed when the event is triggered on the EventDispatcher.</p>

<h6 id="toc_7">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>event</td>
<td>The name of the event</td>
</tr>
<tr>
<td>callable</td>
<td>callback</td>
<td>A callable function to be triggered</td>
</tr>
<tr>
<td>int</td>
<td>priority</td>
<td>The priority of the listener (higher == more important)</td>
</tr>
<tr>
<td>boolean</td>
<td>once_only</td>
<td>When triggered, the listener will be removed</td>
</tr>
</tbody></table>

<h6 id="toc_8">Returns</h6>

<p>ListCollection: A list of listeners attached to the event</p>

<h5 id="toc_9">remove(event, callback=None)</h5>

<p>Remove an event listener from the dispatcher.</p>

<p>Removes an event listener from the relevant Listener.
If no callback is specified, all event listeners for that event are removed.</p>

<h6 id="toc_10">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>event</td>
<td>The name of the event</td>
</tr>
<tr>
<td>callable</td>
<td>callback</td>
<td>A callable function to be triggered</td>
</tr>
</tbody></table>

<h6 id="toc_11">Returns</h6>

<p>Listener: A list of listeners attached to the event</p>

<h5 id="toc_12"><strong>contains</strong>(event):</h5>

<p>Return whether or not an event is registered with the event dispatcher.</p>

<h6 id="toc_13">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>event</td>
<td>The name of the event</td>
</tr>
</tbody></table>

<h5 id="toc_14">has(event, callback=None):</h5>

<p>Return whether or not a callback is found for a particular event.</p>

<h6 id="toc_15">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>event</td>
<td>The name of the event</td>
</tr>
<tr>
<td>callable</td>
<td>callback</td>
<td>The callback to find</td>
</tr>
</tbody></table>

<h5 id="toc_16">trigger(event)</h5>

<p>Fire an event and return a list of results from all listeners.</p>

<p>Dispatches an event to all associated listeners and returns a list of results. If the event is stopped (Event.stopped) then the Result returned will only contain the response from the first listener in the stack.</p>

<h6 id="toc_17">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>watson.events.types.Event</td>
<td>event</td>
<td>The event to trigger</td>
</tr>
</tbody></table>

<h6 id="toc_18">Returns</h6>

<p>Result: A list of all the responses</p>

<hr>

<h3 id="toc_19">EventDispatcherAware</h3>

<blockquote>
<p>Provides an interface for event dispatchers to be injected.</p>
</blockquote>

<h4 id="toc_20">Properties</h4>

<h5 id="toc_21">dispatcher</h5>

<p>Retrieve the event dispatcher. If no event dispatcher exists, create a default one.</p>

</section>

<section>
	
	
	

	
	<h4>See also:</h4>
	
	
	<a class="label blue" href="/watson/reference-library/events/types.html">watson.events.types</a>
	
	
	
	
	<a class="label blue" href="/watson/reference-library/events/collections.html">watson.events.collections</a>
	
	
	
	
	
	
	
	
	
	
	<a class="label blue" href="/watson/reference-library/mvc/views.html">watson.mvc.views</a>
	
	
	
	
	<a class="label blue" href="/watson/reference-library/mvc/applications.html">watson.mvc.applications</a>
	
	
	
	
	<a class="label blue" href="/watson/reference-library/mvc/routing.html">watson.mvc.routing</a>
	
	
	
	
	<a class="label blue" href="/watson/reference-library/mvc/listeners.html">watson.mvc.listeners</a>
	
	
	
	
	<a class="label blue" href="/watson/reference-library/mvc/controllers.html">watson.mvc.controllers</a>
	
	
	
	
	<a class="label blue" href="/watson/reference-library/mvc/exceptions.html">watson.mvc.exceptions</a>
	
	
	
	

	
	<h4 class="key-concepts">Key Concepts:</h4>
	
	
	
	
	
	
	<a class="label yellow" href="/watson/key-concepts/events.html">Events</a>
	
	
	
	<a class="label yellow" href="/watson/key-concepts/mvc.html">Mvc</a>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

				</div>
			</div>
		</div>
		<footer>
	<div class="sub">
		<div class="wrapper clearfix">
			<ul>
				<li class="title">Source </li>
				<li><a href="https://github.com/simoncoulton/watson">GitHub</a></li>
				<li><a href="https://pypi.python.org/pypi/watson-framework/">Pypi</a></li>
			</ul>
			<ul>
				<li class="title">Testing</li>
				<li><a href="https://coveralls.io/r/simoncoulton/watson">Coverage</a></li>
				<li><a href="https://travis-ci.org/simoncoulton/watson">Travis CI</a></li>
			</ul>
			<ul>
				<li class="title">Useful Resources</li>
				<li><a href="http://docs.python.org/3/">Python 3 Documentation</a></li>
				<li><a href="http://www.reddit.com/r/python">Python Subreddit</a></li>
			</ul>
			<ul>
				<li class="title">Additional Modules</li>
				<li><a href="https://github.com/simoncoulton/watson-db">Watson DB</a></li>
				<li><a href="https://github.com/simoncoulton/watson-auth">Watson Auth</a></li>

			</ul>
		</div>
	</div>
	<div class="wrapper">
		Design thanks to <a href="http://www.blazrobar.com">Blaz Robar</a>
		<br />Content generated by <a href="https://github.com/mojombo/jekyll">Jekyll</a>
	</div>
</footer>

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
	try {
	  var pageTracker = _gat._getTracker("UA-37744723-1");
	pageTracker._trackPageview();
	} catch(err) {}
</script>


	</body>
</html>
