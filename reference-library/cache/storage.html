<!doctype html>
<html>
	<head>
		<title>Storage -  Reference Library -  Watson Documentation</title>
		<link rel="stylesheet" type="text/css" href="/watson/assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="/watson/assets/css/pygments.css" />
		<meta name="viewport" content="initial-scale=1, user-scalable=no, width=device-width" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	</head>
	<body>
		<a href="https://github.com/simoncoulton/watson"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
<header>
	<nav class="wrapper primary">
		<a href="/watson/">Watson<span>It's elementary my dear Watson</span></a>
		<a href="/watson/reference-library">Reference Library</a>
		<a href="/watson/key-concepts">Key Concepts</a>
		<a href="/watson/getting-started">Getting Started</a>
	</nav>
	<div class="pagetitle">
		<div class="wrapper">Documentation: Reference Library</div>
	</div>
</header>
		<div>
			<div class="wrapper main clearfix">
				<nav class="secondary">
	<ul>
		<li>
			Getting Started
			<ul>
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/getting-started/installation.html">
			          Installation
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/getting-started/configuration.html">
			          Configuration
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/getting-started/your-first-application.html">
			          Your First Application
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			</ul>
		</li>
		<li>
			Key Concepts
			<ul>
				
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/key-concepts/events.html">
			          Events
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/key-concepts/dependencyinjection.html">
			          Dependency Injection
			        </a>
			      </li>
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/key-concepts/mvc.html">
			          Mvc
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			</ul>
		</li>
		<li>
			Common Usage
			<ul>
				
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/controllers.html">
			          Controllers
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/views.html">
			          Views
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/routing.html">
			          Routing
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/requests.html">
			          Requests
			        </a>
			      </li>
			    
			  
			    
			      <li>
			        <a href="/watson/common-usage/forms.html">
			          Forms
			        </a>
			      </li>
			    
			  
			</ul>
		</li>
		<li>
			Advanced Topics
			<ul>
				
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			      <li>
			        <a href="/watson/advanced-topics/deployment.html">
			          Deployment
			        </a>
			      </li>
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			    
			  
			</ul>
		</li>
		<li>
			Reference Library
			<ul>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li class="active">
					<a href="/watson/reference-library/cache">watson.cache</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/common">watson.common</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/di">watson.di</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/events">watson.events</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/filters">watson.filters</a>
				</li>
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/form">watson.form</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/html">watson.html</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/http">watson.http</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/mvc">watson.mvc</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/util">watson.util</a>
				</li>
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<li>
					<a href="/watson/reference-library/validators">watson.validators</a>
				</li>
				
				
				
				
			</ul>
		</li>
	</ul>
</nav>
			    <div class="content">
			    	<h2 class="section-title">watson.cache.storage</h2>
					<section class="standout">
	<dl>
		<dt>Package</dt>
		<dd>watson.cache</dd>
	</dl>
</section>
<section class="code">
<h3 id="toc_0">BaseStorage</h3>

<blockquote>
<p>Base class for all cache storage classes.</p>
</blockquote>

<p>Cache storage classes are designed to act similar to a dict, however get and set methods can be used when a timeout is required on a set, or when a default
value is to be specified on a get.</p>

<h4 id="toc_1">Attributes</h4>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dict</td>
<td>config</td>
<td>The relevant configuration settings for the storage.</td>
</tr>
</tbody></table>

<h4 id="toc_2">Methods</h4>

<h5 id="toc_3">__init__(config=None)</h5>

<h6 id="toc_4">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dict</td>
<td>config</td>
<td>The relevant configuration settings for the storage.</td>
</tr>
</tbody></table>

<h5 id="toc_5">__delitem__(key)</h5>

<p>Delete a key from the cache.</p>

<h6 id="toc_6">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>key</td>
<td>The key to delete</td>
</tr>
</tbody></table>

<h6 id="toc_7">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="k">del</span> <span class="n">cache</span><span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">]</span> <span class="c"># deletes &#39;key&#39; from the cache</span>
</code></pre></div>

<h5 id="toc_8">__contains__(key)</h5>

<p>Determine whether or not a key exists in the cache.</p>

<h6 id="toc_9">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>key</td>
<td>The key to find</td>
</tr>
</tbody></table>

<h6 id="toc_10">Returns</h6>

<p>True/False depending on if the key exists.</p>

<h6 id="toc_11">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="k">if</span> <span class="s">&#39;key&#39;</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;exists!&#39;</span><span class="p">)</span>
</code></pre></div>

<h5 id="toc_12">flush()</h5>

<p>Clears all items from the cache.</p>

<h6 id="toc_13">Returns</h6>

<p>True if successful.</p>

<h6 id="toc_14">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="n">cache</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</code></pre></div>

<h5 id="toc_15">expired(key)</h5>

<p>Determine if a key has expired or not.</p>

<h6 id="toc_16">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>key</td>
<td>The key to find</td>
</tr>
</tbody></table>

<h6 id="toc_17">Returns</h6>

<p>True/False depending on expiration</p>

<h6 id="toc_18">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="k">if</span> <span class="n">cache</span><span class="o">.</span><span class="n">expired</span><span class="p">(</span><span class="s">&#39;key&#39;</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Expired!&#39;</span><span class="p">)</span>
</code></pre></div>

<h5 id="toc_19">set(key, value, timeout=0)</h5>

<p>Sets a key in the cache.</p>

<h6 id="toc_20">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>key</td>
<td>The key to be used as a reference</td>
</tr>
<tr>
<td>mixed</td>
<td>value</td>
<td>The value to store in the key</td>
</tr>
<tr>
<td>int</td>
<td>timeout</td>
<td>The amount of time in seconds a key is valid for.</td>
</tr>
</tbody></table>

<h6 id="toc_21">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="n">cache</span><span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;value&#39;</span>
</code></pre></div>

<h5 id="toc_22">get(key, default=None)</h5>

<p>Gets a key from the cache, returns the default if not set.</p>

<h6 id="toc_23">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>key</td>
<td>The key to be used as a reference</td>
</tr>
<tr>
<td>mixed</td>
<td>default</td>
<td>The value to return if not in cache</td>
</tr>
</tbody></table>

<h6 id="toc_24">Returns</h6>

<p>The value stored within the cache</p>

<h6 id="toc_25">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="n">value</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">]</span>
</code></pre></div>

<hr>

<h3 id="toc_26">Memory</h3>

<blockquote>
<p>A cache storage mechanism for storing items in memory.</p>
</blockquote>

<p>Memory cache storage will maintain the cache while the application is being run. This is usually best used in instances when you don&#39;t want to keep the cached items after the application has finished running.</p>

<hr>

<h3 id="toc_27">File</h3>

<blockquote>
<p>A cache storage mechanism for storing items on the local filesystem.</p>
</blockquote>

<p>File cache storage will persist the data to the filesystem in whichever directory has been specified in the configuration options. If no directory is specified then the system temporary folder will be used.</p>

<h4 id="toc_28">Methods</h4>

<h5 id="toc_29">__init__(config=None)</h5>

<p>Initializes the cache.</p>

<h6 id="toc_30">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dict</td>
<td>config</td>
<td>The config for the cache</td>
</tr>
</tbody></table>

<h6 id="toc_31">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="n">cache</span> <span class="o">=</span> <span class="n">File</span><span class="p">({</span><span class="s">&#39;dir&#39;</span><span class="p">:</span> <span class="s">&#39;/tmp&#39;</span><span class="p">,</span> <span class="s">&#39;prefix&#39;</span><span class="p">:</span> <span class="s">&#39;my-cache&#39;</span><span class="p">})</span>
<span class="c"># all cached items will be saved to /tmp</span>
<span class="c"># and will be prefixed with my-cache</span>
<span class="n">cache</span><span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;value&#39;</span> <span class="c"># /tmp/my-cache-key contains a serialized &#39;value&#39;</span>
</code></pre></div>

<hr>

<h3 id="toc_32">Memcached</h3>

<blockquote>
<p>A cache storage mechanism for storing items in memcached.</p>
</blockquote>

<p>Memcached cache storage will utilize python3-memcached to maintain the cache across multiple servers.
python3-memcached documentation can be found at <a href="http://pypi.python.org/pypi/python3-memcached/">http://pypi.python.org/pypi/python3-memcached/</a></p>

<h4 id="toc_33">Methods</h4>

<h5 id="toc_34">__init__(config=None)</h5>

<p>Initializes the cache.</p>

<h6 id="toc_35">Arguments</h6>

<table><thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dict</td>
<td>config</td>
<td>The config for the cache</td>
</tr>
</tbody></table>

<h6 id="toc_36">Usage</h6>

<div class="highlight"><pre><code class="python"><span class="n">cache</span> <span class="o">=</span> <span class="n">Memcached</span><span class="p">({</span><span class="s">&#39;servers&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;127.0.0.1:11211&#39;</span><span class="p">,</span> <span class="s">&#39;192.168.100.1:11211&#39;</span><span class="p">]})</span>
</code></pre></div>

</section>

<section>
	
	
	
		
		
			
		
	

	
	<h4>See also:</h4>
	
	
	<a class="label blue" href="/watson/reference-library/cache/decorators.html">watson.cache.decorators</a>
	
	
	
	

	
	<h4 class="key-concepts">Key Concepts:</h4>
	
	
	
	
</section>

				</div>
			</div>
		</div>
		<footer>
	<div class="sub">
		<div class="wrapper clearfix">
			<ul>
				<li class="title">Source </li>
				<li><a href="https://github.com/simoncoulton/watson">GitHub</a></li>
				<li><a href="https://pypi.python.org/pypi/watson-framework/">Pypi</a></li>
			</ul>
			<ul>
				<li class="title">Testing</li>
				<li><a href="https://coveralls.io/r/simoncoulton/watson">Coverage</a></li>
				<li><a href="https://travis-ci.org/simoncoulton/watson">Travis CI</a></li>
			</ul>
			<ul>
				<li class="title">Useful Resources</li>
				<li><a href="http://docs.python.org/3/">Python 3 Documentation</a></li>
				<li><a href="http://www.reddit.com/r/python">Python Subreddit</a></li>

			</ul>
		</div>
	</div>
	<div class="wrapper">
		Design thanks to <a href="http://www.blazrobar.com">Blaz Robar</a>
		<br />Content generated by <a href="https://github.com/mojombo/jekyll">Jekyll</a>
	</div>
</footer>

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
	try {
	  var pageTracker = _gat._getTracker("UA-37744723-1");
	pageTracker._trackPageview();
	} catch(err) {}
</script>


	</body>
</html>
